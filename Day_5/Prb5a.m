clc; clear; close all;
P1 = [0.59; 0.80; 0.95; 0.45; 0.79; 0.99; 0.90; 0.65; 0.79; 0.69; 0.79];
S1 = [3980; 2200; 1850; 6100; 2100; 1700; 2000; 4200; 2440; 3300; 2300];
P2 = [0.49; 1.09; 0.95; 0.79; 0.65; 0.45; 0.60; 0.89; 0.79; 0.99; 0.85];
S2 = [6000; 1190; 1960; 2760; 4330; 6960; 4160; 1990; 2860; 1920; 2160];
Price = [P1;P2];
Sales = [S1;S2];
m = length(Price);
A = [ones(m,1),Price];
b = Sales;
M = A'*A;
N = A'*b;
c = inv(M)*N;
S_pred = A*c;
residuals = Sales-S_pred;
RMSE = sqrt(sum(residuals.^2)/m);
fprintf('Model: Sales = %.2f + %.2f * Price \n',c(1),c(2));
fprintf('RMSE: %.2f \n\n',RMSE);
figure;
plot(Price, Sales); 
grid on;
P_range = linspace(min(Price),max(Price),100);
S_line = c(1)+c(2)*P_range;
plot(P_range, S_line);
